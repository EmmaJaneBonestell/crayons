language: python
python:
  - 2.7
  - 3.5
  - 3.6
  - 3.7
  - 3.8-dev

matrix:
  include:
    - os: windows           # Windows 10
      language: shell       # 'language: python' is an error on Travis CI Windows
      python: 2.7
      before_install:
        - choco install python2
        - python -m pip install --upgrade pip
      env: PATH=/c/Python27:/c/Python27/Scripts:$PATH

    - os: windows           # Windows 10
      language: shell       # 'language: python' is an error on Travis CI Windows
      python: 3.7
      before_install:
        - choco install python3
        - python -m pip install --upgrade pip
      env: PATH=/c/Python37:/c/Python37/Scripts:$PATH

install:
  - python -m pip install colorama flake8
  - if [[ $(python -c "import sys; print(sys.version_info >= (3,5,))") == "True" ]]; then pip install flake8-bugbear; fi

script:
  - flake8
  - python test_crayons.py
  - python setup.py install
